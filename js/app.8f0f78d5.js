(function(){"use strict";var n={8293:function(n,e,t){var o=t(9242),i=t(3396);function r(n,e){const t=(0,i.up)("router-link"),o=(0,i.up)("router-view");return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("nav",null,[(0,i.Wm)(t,{to:"/"})]),(0,i.Wm)(o)],64)}var s=t(89);const a={},d=(0,s.Z)(a,[["render",r]]);var c=d,u=t(2483);const l={class:"home"};function p(n,e,t,o,r,s){const a=(0,i.up)("three-canvas");return(0,i.wg)(),(0,i.iD)("div",l,[(0,i.Wm)(a)])}const w=n=>((0,i.dD)("data-v-9851f150"),n=n(),(0,i.Cn)(),n),f={class:"scene",ref:"webgl"},h=w((()=>(0,i._)("div",{id:"bu",class:"bu"},"播放",-1)));function m(n,e,t,o,r,s){return(0,i.wg)(),(0,i.iD)(i.HY,null,[(0,i._)("div",f,null,512),h],64)}var g=t(1114),v=t(3292);const y=new v.XS;y.domElement.style.right="0px",y.domElement.style.width="300px";var b=y;const x=new g.xsS,j=new g.Ox3(16777215,.9);j.position.set(400,200,300),x.add(j);const M=new g.Ox3(16777215,1.9);M.position.set(-400,-200,-300),x.add(M);const O=new g.Mig(16777215,.9);x.add(O);const C=new g.cBI(j,5),P=b.addFolder("灯光");P.add(O,"intensity",0,2).name("环境光.intensity"),P.add(j,"intensity",0,2),P.add(j.position,"y",0,300).onChange((function(n){C.update()}));const H={R:100,angle:0};P.add(H,"R",0,300).onChange((function(n){j.position.x=n*Math.cos(H.angle),j.position.z=n*Math.sin(H.angle),C.update()})),P.add(H,"angle",0,2*Math.PI).onChange((function(n){j.position.x=H.R*Math.cos(n),j.position.z=H.R*Math.sin(n),C.update()}));const W=(new g.cBK).setPath("./textures/"),T=W.load(["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"]);x.background=T,x.environment=T,x.fog=new g.ybr(16777215,-100,2e3);var z=t(4543);const E=new g.CP7({antialias:!0});E.setPixelRatio(window.devicePixelRatio),E.setSize(window.innerWidth,window.innerHeight);var k=E,_={cWidth:window.innerWidth,cHeight:window.innerHeight,px:-.68,py:7.33,pz:36.9,tx:-.29,ty:2.38,tz:-.39};const R=_.cWidth,F=_.cHeight,L=new g.cPb(30,R/F,1,3e3);L.position.set(100,28,-146),L.lookAt(0,80,0);new z.z(L,k.domElement);t(7658);var S=t(4198);const A=new S.E,D=new g.ZAu;let I=[];const Y=(new g.cBK).setPath("环境贴图/").load(["px.jpg","nx.jpg","py.jpg","ny.jpg","pz.jpg","nz.jpg"]);function B(n,e,t){const o=n.clientX,i=n.clientY,r=o/_.cWidth*2-1,s=-i/_.cHeight*2+1,a=new g.iMs;a.setFromCamera(new g.FM8(r,s),t);const d=a.intersectObjects(e);console.log("射线器返回的对象",d);let c=null;return d.length>0&&(c=d[0].object),c}A.load("model/机械装配动画.glb",(function(n){n.scene.traverse((function(n){n.isMesh&&(n.material.metalness=1,n.material.roughness=.35,n.material.envMap=Y,n.material.envMapIntensity=.5),"Object3D"==n.type&&I.push(n)})),D.add(n.scene),console.log(n.scene);const e=new g.Xcj(n.scene),t=n.animations[0],o=t.duration,i=e.clipAction(t);i.play(),i.paused=!0,i.loop=g.jAl;let r="播放";const s=document.getElementById("bu");s.addEventListener("click",(function(){i.paused?("拖动"==r&&(r="播放",i.time=0),i.paused=!1,s.innerHTML="暂停"):(i.paused=!0,s.innerHTML="播放")})),e.addEventListener("finished",(function(){s.innerHTML="播放",i.reset(),i.paused=!0})),b.add(i,"timeScale",0,2).step(.1).name("倍速"),b.add(i,"time",0,o).step(.1).name("拖动").onChange((function(n){"播放"==r&&(i.paused=!0,r="拖动",s.innerHTML="播放")}));const a=new g.SUY;function d(){requestAnimationFrame(d);const n=a.getDelta();e.update(n)}d()}));var Z=t(8421),X=t(2338),q=t(9066),K=t(840),U=t(5861),V=t(328),$={name:"ThreeCanvas",components:{},data(){return{}},mounted(){D.position.y=-20,x.add(D),this.$refs.webgl.appendChild(k.domElement);const n=new Z.x(k),e=new X.C(x,L);n.addPass(e);const t=new g.FM8(window.innerWidth,window.innerWidth),o=new K.f(t,x,L);o.visibleEdgeColor.set(65535),o.edgeThickness=4,o.edgeStrength=6,n.addPass(o);const i=new q.T(U.Y);n.addPass(i);const r=new q.T(V.C),s=k.getPixelRatio();function a(){n.render(x,L),requestAnimationFrame(a)}r.uniforms.resolution.value.x=1/(window.innerWidth*s),r.uniforms.resolution.value.y=1/(window.innerWidth*s),n.addPass(r),k.domElement.addEventListener("click",(function(n){B(n,I,L)&&(o.selectedObjects=[B(n,I,L)])})),a(),window.onresize=function(){k.setSize(window.innerWidth,window.innerHeight),L.aspect=window.innerWidth/window.innerHeight,L.updateProjectionMatrix()}},methods:{}};const G=(0,s.Z)($,[["render",m],["__scopeId","data-v-9851f150"]]);var J=G,N={name:"HomeView",components:{ThreeCanvas:J},data(){return{index:1}},mounted(){setTimeout((()=>{}),100)},methods:{}};const Q=(0,s.Z)(N,[["render",p]]);var nn=Q;const en=[{path:"/",name:"home",component:nn,meta:{needRefresh:!0}}],tn=(0,u.p7)({history:(0,u.r5)(),routes:en});var on=tn,rn=t(65),sn=(0,rn.MT)({state:{},getters:{},mutations:{},actions:{},modules:{}});(0,o.ri)(c).use(sn).use(on).mount("#app")}},e={};function t(o){var i=e[o];if(void 0!==i)return i.exports;var r=e[o]={exports:{}};return n[o].call(r.exports,r,r.exports,t),r.exports}t.m=n,function(){var n=[];t.O=function(e,o,i,r){if(!o){var s=1/0;for(u=0;u<n.length;u++){o=n[u][0],i=n[u][1],r=n[u][2];for(var a=!0,d=0;d<o.length;d++)(!1&r||s>=r)&&Object.keys(t.O).every((function(n){return t.O[n](o[d])}))?o.splice(d--,1):(a=!1,r<s&&(s=r));if(a){n.splice(u--,1);var c=i();void 0!==c&&(e=c)}}return e}r=r||0;for(var u=n.length;u>0&&n[u-1][2]>r;u--)n[u]=n[u-1];n[u]=[o,i,r]}}(),function(){t.n=function(n){var e=n&&n.__esModule?function(){return n["default"]}:function(){return n};return t.d(e,{a:e}),e}}(),function(){t.d=function(n,e){for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})}}(),function(){t.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(n){if("object"===typeof window)return window}}()}(),function(){t.o=function(n,e){return Object.prototype.hasOwnProperty.call(n,e)}}(),function(){var n={143:0};t.O.j=function(e){return 0===n[e]};var e=function(e,o){var i,r,s=o[0],a=o[1],d=o[2],c=0;if(s.some((function(e){return 0!==n[e]}))){for(i in a)t.o(a,i)&&(t.m[i]=a[i]);if(d)var u=d(t)}for(e&&e(o);c<s.length;c++)r=s[c],t.o(n,r)&&n[r]&&n[r][0](),n[r]=0;return t.O(u)},o=self["webpackChunkthree_demo"]=self["webpackChunkthree_demo"]||[];o.forEach(e.bind(null,0)),o.push=e.bind(null,o.push.bind(o))}();var o=t.O(void 0,[998],(function(){return t(8293)}));o=t.O(o)})();
//# sourceMappingURL=app.8f0f78d5.js.map